#
# Proxmox Types, y'all. 
#

---
version: "1.0"

interfaces:

################ TO BE AT SOME POINT A COMMON LIBRARY
## INTERFACES
### 
  Pulsable:
    version: 1
    property: 
      name: string
      status: string
      lastStatusModifiedTime: integer
      statusTimeoutSecs: integer
      lastPulseModifiedTime: integer
      step: integer
      lastAgentUpdateID: string

  # Discoverable:
  #   version: 1
  #   property: 
  #     name: string
  #     discovered: string
  #     agentCreated: string

  Discoverable:
    version: 1
    property: 
      bootdisk: string
      cores: integer # string
      memory: integer # string
      sockets: integer # string
      numa: integer # string
      ostype: string

types:

## TYPES 
  Base:
    version: 1
    property: 
      name: string
      lastAgentUpdateID: string

  Machine:
    version: 1
    extends: '#Base'
    property:
      name: string
      arch: string
      memory: integer # string
      cpus: integer # string
      cores: integer # string
      ht: string
      diskController0: string
      diskDevice0: string
      diskController1: string
      diskDevice1: string
      diskDevice2: string
      diskDevice3: string
      diskDevice4: string
      diskDevice5: string
      diskDevice6: string
      diskDevice7: string
      primaryIp: string   # just a huge cheat to get things going
      configuredInterfaces:
        - '#NetDevice'
      defaultInterface:
        - '#NetDevice'
    required:
      - name
      - arch
      - memory
      - cpus
      - cores
      - ht

  MachineGroup:
    version: 1
    property:
      name: string
      description: string
      members:
        - '#Machine'
    required:
      - name
      - description

  NetDevice:
    version: 1
    property:
      name: string
      hwaddr: string
      addresses:
        - '#Ip'
    required:
      - name
      - hwaddr

  Ip:
    version: 1
    property:
      name: string
      address: string
    required:
      - name
      - address
